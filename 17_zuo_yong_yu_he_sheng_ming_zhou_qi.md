# 1.7 作用域和生命周期
##作用域和生命周期

在一个Swift程序中，一切都具有作用域。这个就涉及到它们自己被其他看到的问题。一些对象嵌套在另一个对象里，作用域也是如此。基本的准则是对象可以获取同级或者他们高一级的对象。下面是一些规则：

* 模块是一个作用域
* 文件是一个作用域
* 声明的对象是一个作用域
* 花括号是一个作用域

当一个对象声明，它就处于当前继承关系中的某一层。它的位置—作用域—决定了这个对象是不是可以被其他对象观察到。

我们回过来看下例子1-1。在Manny里面声明的是name变量和sayName函数；sayName花括号里面的代码可以看到外面高一级的，因此是可以获取到name变量。相似的，在changeOne函数中的代码可以获取到文件顶层声明的one变量；确实，这个文件中的任何对象都可以获取到声明在顶层的one变量。

因此作用域是一个分享信息的重要方法。在Manny中定义的两个函数可以获取定义在Manny顶层中的变量。在Jack中定义的代码和在Moe中定义的代码可以获取文件顶层的变量one。

对象都具有生命周期，这和它们的作用域有直接的关系。一个对象不会被销毁只要它所处的作用域不销毁。因此，在例子1-1中，只要文件作用不销毁，变量one就不会被销毁，一般的是和程序一起的。one是一个全局变量。但是在Manny顶层中声明的name变量一直存在直到Manny销毁（后面我会详细讲解）。在深的层次中声明的变量有短暂的生命周期；比如，让我们看下面例子：
```swift
func silly() {
			if true {
				class Cat {}
				var one = 1 
				one = one + 1
			}
		}	
```
在这段代码中，Cat类和变量one作用域只会在if条件里面。在这里，Cat类被声明并且存在；然后变林one被声明，然后是语句one = one + 1执行；然后作用域就停止了，Cat类和变量One都会消失。


