# 3.1 变量作用域和生命周期
## 变量的作用域和生命周期
回到第一章，一个变量是一个指向某个类型的暗盒。每个变量都必须明确的、正式的声明。把一个对象放到一个暗盒中，因此就可以将变量的名字引用到这个对象，你可以给这个变量赋值。（像我们第二章讨论的，一个函数也有一个类型，因此可以赋值给变量）。

除了提供一个引用名的方便，一个变量实际上从它定义的地方，隐藏着特殊的作用域和生命周期；给一个变量赋值是保证这个变量被正确获取的一种方法。

在Swift文件结构中，一个变量可以在任何地方定义。区分几个层次的变量和生命周期是非常有用的：
* 全局变量
  
  全局变量或者简单的说全局对象，是一个声明在Swift文件最顶层的变量。
  
  全局变量是和Swift文件一起存在的。这就意味着一直存在。严格来说，只有程序在启动的情况下。
  
  全局变量在任何地方都可以看到--这就是全局的意思。它可以被同一个文件的所有代码看到，因为它在最顶层，所以同一文件其他代码要么和它同一层次、要么比他低一层次。更重要的是，它可以被同一module中的其他文件中的代码看到，因为在同一module中Swift文件之间是可以相互看到的，因此可以看到其他文件的顶层定义。
   
* 属性

  属性是定义在类型对象顶层的变量（包括enum，struct，class）。有两类属性：实例属性和类属性。
  * 实例属性
  
    默认情况下，一个属性就是一个实例属性。它的值会随着实例对象的不同而不同。它的生命周期和实例的声明周期是一样的。回头看下第一章的实例创建过程；实例随后的生命周期由实例赋值给的那个变量决定。
  * 静态属性/类属性
  
    如果一个属性声明的时候前面加上前缀（static/class）那个这个属性就是一个静态/类属性。它的生命周期是由这个类对象决定的。如果这个类定义在文件的最顶层，或者其他定义在文件顶层的类的顶层，那么它的生命周期是整个程序运行期间。

* 局部变量

  在一个函数内部声明的变量称为局部变量。局部变量的生命周期由包围它的花括号决定的：当代码执行到这个变量声明的地方开始存在，当代码执行后它就会消失。局部变量有时称为自动释放，因为他们的出现和消失都是自动的。
  一个局部变量只能够被它下一次级的代码获取。


